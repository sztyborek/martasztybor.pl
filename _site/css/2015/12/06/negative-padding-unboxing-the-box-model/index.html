<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Negative Padding&#58; Unboxing the Box Model &#8211; Marta Sztybor Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="This post is inspired with a discussion we had recently at our workplace. It started with a question, asked by one of the backend developers&amp;#58; &quot;Why do we have negative margin in CSS, while there&#39;s no possibility to set negative padding?&quot;. I like such &quot;out of the box&quot; questions, so I&#39;ll try to break down the problem and take a closer look of the box model.">
    <meta name="author" content="Marta Sztybor">
    <meta name="keywords" content="CSS">
    <link rel="canonical" href="http://martasztybor.pl/css/2015/12/06/negative-padding-unboxing-the-box-model/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Marta Sztybor Blog" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css?201707311811" type="text/css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Verifications -->
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Negative Padding&amp;#58; Unboxing the Box Model">
    <meta property="og:description" content="This post is inspired with a discussion we had recently at our workplace. It started with a question, asked by one of the backend developers&amp;#58; &quot;Why do we have negative margin in CSS, while there&#39;s no possibility to set negative padding?&quot;. I like such &quot;out of the box&quot; questions, so I&#39;ll try to break down the problem and take a closer look of the box model.">
    <meta property="og:url" content="http://martasztybor.pl/css/2015/12/06/negative-padding-unboxing-the-box-model/">
    <meta property="og:site_name" content="Marta Sztybor Blog">
    <meta property="og:image" content="/img/pack.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@sztyborek" />
    
    <meta name="twitter:title" content="Negative Padding&#58; Unboxing the Box Model" />
    <meta name="twitter:description" content="This post is inspired with a discussion we had recently at our workplace. It started with a question, asked by one of the backend developers&#58; "Why do we have negative margin in CSS, while there's no possibility to set negative padding?". I like such "out of the box" questions, so I'll try to break down the problem and take a closer look of the box model." />
    <meta name="twitter:url" content="http://martasztybor.pl/css/2015/12/06/negative-padding-unboxing-the-box-model/" />
    <meta name="twitter:image" content="/img/pack.jpg">
</head>

<body>

  <div class="site-wrap">
    <nav class="site-nav">
  <a href="/">Marta Sztybor</a>
</nav>

    <main><header>
  <h1>Negative Padding&#58; Unboxing the Box Model</h1>
  <span class="post-meta">
    Published Dec 6, 2015 by 
    <a href="/">Marta Sztybor</a>
  </span>
</header>

<article>
  <p>This post is inspired with a discussion we had once at <a href="http://10clouds.com">our workplace</a>. It started with a question, asked by one of the backend developers:</p>

<blockquote>
  <p>Why do we have negative margin in CSS, while there’s no possibility to set negative padding?</p>
</blockquote>

<p>The first thing which comes to mind is probably: “Because negative padding makes no sense!”. It’s not a complete answer though. I like such “out of the box” (pun intended) questions, so I’ll try to break down the problem and take a closer look of the box model. The spec defines it as it goes:</p>

<blockquote>
  <p>The CSS <a href="http://www.w3.org/TR/CSS21/box.html">box model</a> describes the rectangular boxes that are generated for elements in the document tree and laid out according to the <a href="http://www.w3.org/TR/CSS21/visuren.html">visual formatting model</a>.</p>

  <p>– <cite><a href="http://www.w3.org">W3C</a></cite></p>
</blockquote>

<figure>
  <img src="/img/negative-padding/boxdim.png" alt="CSS box model" />
	<figcaption>CSS Box Model</figcaption>
</figure>

<p>Every box has its content area which optionally can be surrounded by padding, border and margin area. Each of them has different purposes. Let’s focus on the padding and the margin:</p>

<ul>
  <li>Padding pushes away the border from the content, so it makes the space around the content. When it’s set to zero, the padding edge is the same as the content edge.</li>
  <li>Margin pushes away the content from any other existing boxes. It is used to make the horizontal and vertical space between elements. When margin is set to zero, it means that the margin edge is the same as the border edge.</li>
</ul>

<p>It’s possible to set box model values by setting corresponding CSS properties (for example, to apply element’s dimensions, use <code class="highlighter-rouge">width</code> and <code class="highlighter-rouge">height</code>, and <code class="highlighter-rouge">padding</code> to set padding width). You must keep in mind that there are <a href="http://www.impressivewebs.com/difference-block-inline-css/">several differences</a> between setting the box model properties for block level and inline level elements.</p>

<p>Box model properties are essential for the browser to determine the coordinates of the element and the space that it occupies on the page. Browser uses a coordinate system with <code class="highlighter-rouge">(0,0)</code> point placed in the top left corner of the document (which pretty much corresponds with the <code class="highlighter-rouge">html</code> element). Elements’ positions are measured in pixels with positive <code class="highlighter-rouge">x</code> direction going to the right and positive <code class="highlighter-rouge">y</code> direction to the bottom.</p>

<figure>
  <img src="/img/negative-padding/coordinates.png" alt="Coordinate system of the browser" />
	<figcaption>Coordinate system of the browser</figcaption>
</figure>

<h2 id="understanding-negative-margin">Understanding negative margin</h2>

<p>Despite its “hackish” reputation negative margin <a href="http://www.w3.org/TR/CSS21/box.html#margin-properties">is allowed by the specification</a>. If applied with care and deep understanding, they produce valid code.</p>

<p>Like I mentioned above margins are used to create spacing between elements. To add any whitespace the margin value must be more than zero. Therefore, if we set negative margin value, it will cause elements to overlap. Let’s see how the elements with negative margin set behave:</p>

<figure>
  <pre class="codepen" data-height="470" data-type="result" data-href="GoROMY" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/GoROMY">Negative margin demo: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
	<figcaption>Visualization: adjacent elements with positive top margin value applied to the second one (left) and negative top margin value (right) - the second element overlaps the first one</figcaption>
</figure>

<p>For every element with <code class="highlighter-rouge">position: static</code> (which is the default <code class="highlighter-rouge">position</code> property value) and no <code class="highlighter-rouge">float</code> applied:</p>

<ul>
  <li>When <strong>top or left</strong> margin is set to negative value, it pulls the element <strong>and</strong> the following elements up or left.</li>
  <li>When <strong>bottom or right</strong> margin is set to negative, it pulls only the following elements up or left.</li>
</ul>

<p>Every element with <code class="highlighter-rouge">position</code> value other than <code class="highlighter-rouge">static</code> (which means: <code class="highlighter-rouge">absolute</code>, <code class="highlighter-rouge">relative</code> or <code class="highlighter-rouge">fixed</code>) <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_without_z-index">creates new stacking context</a>. Absolute positioning removes the element from the document flow. In this case the main difference will be <strong>not pulling</strong> the following elements in the direction of negative margin. The same goes for elements with fixed positioning.</p>

<p>Case becomes a little more complex for floated elements. However <a href="http://robin.medvedi.eu/morning-headache-float-negative-margin-and-ie8/">the thing can be a little quirky</a> and doesn’t really fall within the scope of this article, so if you’re interested I encourage you to further reading.</p>

<h3 id="differences-between-negative-margin-and-relative-positioning">Differences between negative margin and relative positioning</h3>

<p>Applying <code class="highlighter-rouge">position: relative</code> makes an element shift its position relatively to its original position. Having that in mind one may assume that this technique does exactly the same as negative margin. There are two main differences though:</p>

<ul>
  <li>The element’s original position remains in the flow of the document. It means that if we apply, for example <code class="highlighter-rouge">top: -20px</code>, the element will be shifted upwards but its original space will remain and the following elements will <strong>not</strong> be shifted.</li>
  <li>For an element with <code class="highlighter-rouge">position: relative</code> the <code class="highlighter-rouge">z-index</code> property will work. You must keep in mind that <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Adding_z-index"><code class="highlighter-rouge">z-index</code> works only for positioned elements</a>.</li>
</ul>

<figure>
  <pre class="codepen" data-height="470" data-type="result" data-href="zrYLpN" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/zrYLpN">Negative margin vs position relative: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
	<figcaption>Visualization of the main difference between relative positioning and negative margin</figcaption>
</figure>

<h3 id="use-cases-of-negative-margin">Use cases of negative margin</h3>

<p>Nowadays there are several use cases when negative margin can come in handy:</p>

<ul>
  <li>Centering a block element of known dimensions (source: <a href="https://css-tricks.com/centering-css-complete-guide/">CSS-Tricks guide for centering</a>):</li>
</ul>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.parent</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/*
  Element that should be centered
*/</span>
<span class="nc">.child</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">-100px</span><span class="p">;</span> <span class="c">/* Half of the element's height */</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-100px</span><span class="p">;</span> <span class="c">/* Half of the element's width */</span>
<span class="p">}</span></code></pre></figure>

<figure>
  <pre class="codepen" data-height="470" data-type="result" data-href="ZQEjjp" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/ZQEjjp">Centering an element: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
  <figcaption>Centering an element of known width and height</figcaption>
</figure>

<ul>
  <li>Implementing design with overlapping elements. This is quite popular use case and negative margin allows you to achieve this effect without breaking the document flow.</li>
</ul>

<figure>
  <pre class="codepen" data-height="470" data-type="result" data-href="QyWVKK" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/QyWVKK">Overlapping elements with negative margin: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
	<figcaption>Layout with overlapping elements</figcaption>
</figure>

<ul>
  <li>Creating full-width elements within padded containers:</li>
</ul>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.parent</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">1.5rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/*
  Element that should have full width
*/</span>
<span class="nc">.child</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-1.5rem</span><span class="p">;</span>
  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">-1.5rem</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<figure>
  <pre class="codepen" data-height="470" data-type="result" data-href="LGYJQa" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/LGYJQa">Full width container: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
	<figcaption>Making element fill up whole width of a container with padding applied</figcaption>
</figure>

<ul>
  <li>“Clearing” the leftmost and rightmost gutter padding in grid systems. Take a look at an example from Bootstrap:</li>
</ul>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-6"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-6"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.row</span> <span class="p">{</span>
  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.col-sm-6</span> <span class="p">{</span>
  <span class="nl">padding-right</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
  <span class="nl">padding-left</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>I think there are just a few examples of “non-hacky” uses of negative margin. If you encountered any other, share it in comments!</p>

<h2 id="why-we-dont-have-negative-padding-then">Why we don’t have negative padding then?</h2>

<p>The word <a href="http://www.collinsdictionary.com/dictionary/american/padding">“padding”</a> refers to something inner. That’s because the idea of negative padding may appear counterintuitive. Element with negative padding would be like something with an inside-out lining.</p>

<p>Imagine that setting negative padding values is possible. When padding value is set to zero, the border edge is the same as the content edge. When we set it negative, then border will overlap the content. Maybe that would be useful but, hey, content extended beyond its boundaries? That would make calculations of the element dimensions and position on the page definitely troublesome.</p>

<h3 id="hypothetical-behavior-of-negative-padding">Hypothetical behavior of negative padding</h3>

<p>Let’s have a <code class="highlighter-rouge">&lt;p&gt;</code> element with some text content, padding and border:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"example"</span><span class="nt">&gt;</span>Lorem ipsum dolor sit amet.<span class="nt">&lt;/p&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.example</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">blue</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>This is how it renders in the browser:</p>

<figure>
  <pre class="codepen" data-height="150" data-type="result" data-href="yeLxjP" data-user="sztyborek" data-safe="true"><code></code><a href="http://codepen.io/sztyborek/pen/yeLxjP">Negative padding example: check it out on Codepen</a></pre>
  <script async="" src="http://codepen.io/assets/embed/ei.js"></script>
</figure>

<p>For this example purposes, let’s assume that it’s possible to set the negative padding for an element:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.example</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">0</span> <span class="m">-8px</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">blue</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Then the element would probably be rendered like that:</p>

<figure>
  <img src="/img/negative-padding/negative.png" alt="Element with negative top padding value" />
  <figcaption>Element with negative top padding value</figcaption>
</figure>

<p>The element’s bottom would probably be “cut out” by the bottom border. Let’s go further with our thought experiment and set to negative value also the top padding:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.example</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">-8px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">blue</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<figure>
  <img src="/img/negative-padding/negative2.png" alt="Element with negative top padding value both on top and the bottom" />
  <figcaption>Element with negative top padding value both on top and the bottom</figcaption>
</figure>

<p>When the element is rendered, it’s essential for the browser to know the exact dimensions of its content. In this case we can assume that the <code class="highlighter-rouge">height</code> still has the value of <code class="highlighter-rouge">16px</code> (the font size). But at the same time we see how negative padding would influence the element’s position. When content extends its boundaries (the border), the space occupied by the content overlaps the margin space!</p>

<p>These all above are just my speculations. I’m not really sure if that was the reason for making negative padding invalid. If you stumbled upon any reliable resource that explains the decision behind allowing negative margin and disallowing negative padding, feel free to share it in the comments!</p>

<h2 id="resources">Resources</h2>

<p>Online resources that I was referring to while writing this article:</p>

<ul>
  <li><a href="http://www.w3.org/TR/CSS21/box.html">W3C specification for box model</a>.</li>
  <li><a href="http://www.w3.org/TR/CSS21/visuren.html">W3C specification for visual formatting model</a>.</li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model">MDN article about box model</a>.</li>
  <li><a href="http://www.sitepoint.com/understanding-block-formatting-contexts-in-css/">Article about Block Formatting Contexts on Sitepoint</a>.</li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model/Determining_the_dimensions_of_elements">MDN article about determining elements dimensions</a> and <a href="https://msdn.microsoft.com/en-us/library/hh781509(VS.85).aspx">resources from MSDN on the same topic</a>.</li>
  <li><a href="http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/">How browsers work explained on HTML5Rocks</a>.</li>
  <li>Community feedback on stackoverflow about <a href="http://stackoverflow.com/questions/11495200/how-do-negative-margins-in-css-work-and-why-is-margin-top-5-margin-bottom5">negative margin</a> and <a href="http://stackoverflow.com/questions/4973988/why-does-css-not-support-negative-padding">negative padding</a> was also very helpful.</li>
</ul>

<p>Thank you for reading!</p>


</article>
</main>
  </div>

  <footer>
  <small>
    Copyright &copy; Marta Sztybor 2017. All rights reserved.
  </small>
</footer>


  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49648021-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
